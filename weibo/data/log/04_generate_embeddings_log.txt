============================================================
微博数据嵌入向量生成工具
============================================================
开始时间: 2025-06-29 17:29:32

使用设备: cpu

=== 处理模式选择 ===
1. 快速模式 (推荐) - 使用轻量级模型，处理速度更快
2. 标准模式 - 使用平衡模型，质量和速度兼顾
3. 高质量模式 - 使用高质量模型，处理速度较慢
选择模式: fast -> 模型: all-MiniLM-L6-v2

========================================
步骤1: 加载模型
========================================
正在加载模型: all-MiniLM-L6-v2
注意：首次加载可能需要下载模型文件，请耐心等待...
模型选择建议:
  - fast: all-MiniLM-L6-v2
  - balanced: paraphrase-multilingual-MiniLM-L12-v2
  - quality: paraphrase-multilingual-mpnet-base-v2
开始下载/加载模型...
✓ 模型加载成功！
✓ 模型维度: 384

========================================
步骤2: 加载数据
========================================
正在加载数据...
尝试加载CSV文件: data/weibo_segmented_data.csv
✓ 成功加载分词数据，共 88,612 行

准备文本数据...
从DataFrame提取文本，列名: ['user', 'clean_txt', 'date_clean', 'year', 'repost', 'comment', 'like', 'type', 'segmented_text']
根据数据量和模式调整批次大小: 128
注意：如果处理速度太慢，可以手动减小批次大小

========================================
步骤3: 生成嵌入向量
========================================

=== 开始生成嵌入向量 ===
文本数量: 88,612
批次大小: 128
预计批次数: 693
正在过滤空文本...
✓ 有效文本数量: 86,816
开始生成嵌入向量...
处理批次 1/679 (128/86,816) - 已用时: 0.0秒
  ✓ 批次 1 完成，形状: (128, 384)，用时: 3.43秒
处理批次 2/679 (256/86,816) - 已用时: 3.4秒
  ✓ 批次 2 完成，形状: (128, 384)，用时: 3.07秒
处理批次 3/679 (384/86,816) - 已用时: 6.5秒
  ✓ 批次 3 完成，形状: (128, 384)，用时: 2.46秒
处理批次 4/679 (512/86,816) - 已用时: 9.0秒
  ✓ 批次 4 完成，形状: (128, 384)，用时: 3.27秒
处理批次 5/679 (640/86,816) - 已用时: 12.2秒
  ✓ 批次 5 完成，形状: (128, 384)，用时: 3.40秒
  进度: 5/679 (0.7%) - 预计剩余时间: 35.1分钟
  当前内存使用: 464.1 MB
  进度: 10/679 (1.5%) - 预计剩余时间: 34.5分钟
